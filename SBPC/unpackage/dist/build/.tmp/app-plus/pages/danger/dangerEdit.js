(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/danger/dangerEdit"],{"08ba":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"uni-icon",class:["uni-icon-"+t.type],style:{color:t.color,"font-size":t.fontSize},attrs:{eventid:"346bda0d-0"},on:{click:function(e){t.onClick()}}})},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"09d6":function(t,e,i){"use strict";i.r(e);var a=i("08ba"),n=i("f505");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("4e52");var s=i("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},"1b79":function(t,e,i){"use strict";var a=i("b9cb"),n=i.n(a);n.a},"34a7":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=d(i("8959")),n=d(i("09d6")),o=d(i("d36e")),s=d(i("9fbc")),c=d(i("40bc")),l=d(i("736d")),r=(d(i("fa28")),d(i("bc96"))),u=i("2f62");function d(t){return t&&t.__esModule?t:{default:t}}var f={computed:(0,u.mapState)(["userInfo"]),components:{uniList:a.default,uniListItem:o.default,uniIcon:n.default},data:function(){return{model:{instanceid:"",recordid:"",yhms:"",yhdj:"",yhhg:"",yhlx:"",zgqx:"",yhly:"",zrbm:null},littleImageWidth:0,createImgList:[],changeImgList:[],confirmImgList:[],pageState:1,dangerLevel:c.default.dangerLevel,dangerResult:c.default.dangerResult,dangerType:c.default.dangerType,dangerSource:c.default.dangerSource,dangerReason:c.default.dangerReason}},onLoad:function(e){this.littleImageWidth=(t.getSystemInfoSync().windowWidth-50)/4,this.model.instanceid=null==e.instanceid?"":e.instanceid,this.model.recordid=null==e.recordid?"":e.recordid,""!=this.model.instanceid||""!=this.model.recordid?this.getDangerDetail():(this.model.fqrid=this.userInfo.userid,this.model.fqrmc=this.userInfo.username)},onUnload:function(){var t=getCurrentPages(),e=t[t.length-2],i=e.$getAppWebview();plus.webview.postMessageToUniNView({refreshCode:"REFRESH"},i.id)},methods:{saveClick:function(e){var i=this;i.model.userid=i.userInfo.userid,i.model.zrbmid=null==i.model.zrbm?"":i.model.zrbm.id,i.model.zrbmmc=null==i.model.zrbm?"":i.model.zrbm.name,l.default.requestLoading(s.default.addDanger,i.model,"保存隐患",function(e){i.model=e;i.getAttachtypeAndPhotoList().type,i.getAttachtypeAndPhotoList().photoList;t.showToast({icon:"none",title:"保存成功"})},function(){t.showToast({icon:"none",title:"保存失败"})},function(){})},roamClick:function(e){var i=this;i.model.userid=i.userInfo.userid,i.model.operationname=e.operationname,i.model.nextstatusname=e.nextstatusname,i.model.prestatusname=e.prestatusname,i.model.flowtype=e.flowtype,l.default.requestLoading(s.default.flowDanger,i.model,"正在流转",function(a){if(null==a.data&&"200"==a.repCode)return t.showToast({icon:"none",title:a.repMsg}),void setTimeout(function(){t.navigateBack({delta:1})},1e3);var n=a.data,o="DANGER_TRANSFER";t.navigateTo({url:"../common/personChoose?key="+o+"&condition="+n+"&mltiple=false"}),i.$fire.once(o,function(t){i.flowDanger(t,e)})},function(){t.showToast({icon:"none",title:"流转失败"})},function(){})},flowDanger:function(e,i){var a=this;a.model.receiverid=e.id,l.default.requestLoading(s.default.flowDangerAfterChooseTarget,a.model,"正在流转",function(e){t.showToast({icon:"none",title:e.repMsg}),setTimeout(function(){t.navigateBack({delta:1})},1e3)},function(){t.showToast({icon:"none",title:"流转失败"})},function(){})},getDangerDetail:function(){var e=this;l.default.requestLoading(s.default.getDangerDetail,e.model,"正在加载",function(t){e.model=t;var i={name:t.zrbmmc,id:t.zrbmid};e.model.zrbm=i,null!=e.model.controlcode?-1!=e.model.controlcode.indexOf("start")?e.pageState=1:-1!=e.model.controlcode.indexOf("zzzg")?(e.pageState=2,e.model.zgrmc=e.userInfo.username,e.model.zgrid=e.userInfo.userid):-1!=e.model.controlcode.indexOf("yzfj")&&(e.pageState=3,e.model.yzrmc=e.userInfo.username,e.model.yzrid=e.userInfo.userid):e.pageState=0},function(){t.showToast({icon:"none",title:"加载失败"})},function(){})},jumpInput:function(e,i,a,n){var o=this;this.pageState==n&&(t.navigateTo({url:"../common/inputPage?key="+e+"&placeholder="+i+"&text="+a}),this.$fire.once(e,function(t){o.model[e]=t}))},jumpOrgChoose:function(e,i){var a=this;this.pageState==i&&(t.navigateTo({url:"../common/orgChoose?selected="+JSON.stringify([])+"&key="+e+"&mltiple=false"}),this.$fire.once(e,function(t){console.log(""+JSON.stringify(t)),a.model[e]=t}))},alertSheetShow:function(e,i,a){var n=this;n.pageState==a&&t.showActionSheet({itemList:i,success:function(t){n.model[e]=i[t.tapIndex]},fail:function(t){}})},pickerChange:function(t,e,i){this.pageState==i&&(this.model[e.target.id]=t[e.target.value])},dateChange:function(t,e,i){this.pageState==i&&(console.log("key:"+t+",value:"+e.target.value),this.model[t]=e.target.value)},addPhoto:function(t){var e=this;r.default.addPhoto(function(i){e[t]=e[t].concat(i)})},deleteImage:function(t,e,i){var a=this;r.default.deletePhoto(a[t],e,i,function(e){a[t]=e})},viewPhoto:function(t){r.default.viewPhoto(this[t])},getAttachtypeAndPhotoList:function(){var t={};return 1==this.pageState?(t.type="fxwt",t.photoList=this.createImgList):2==this.pageState?(t.type="zzwt",t.photoList=this.changeImgList):3==this.pageState?(t.type="yzwt",t.photoList=this.confirmImgList):(t.type="",t.photoList=[]),t}}};e.default=f}).call(this,i("649d")["default"])},"39f9":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"uni-list-cell",class:[!0===t.disabled||"true"===t.disabled?"uni-list-cell--disabled":""],attrs:{"hover-class":!0===t.disabled||"true"===t.disabled||!0===t.showSwitch||"true"===t.showSwitch?"":"uni-list-cell--hover",eventid:"30c48a99-1"},on:{click:t.onClick}},[i("view",{staticClass:"uni-list-cell__container"},[t.thumb?i("view",{staticClass:"uni-list-cell__icon"},[i("image",{staticClass:"uni-list-cell__icon-img",attrs:{src:t.thumb}})]):!0===t.showExtraIcon||"true"===t.showExtraIcon?i("view",{staticClass:"uni-list-cell__icon"},[i("uni-icon",{attrs:{color:t.extraIcon.color,size:t.extraIcon.size,type:t.extraIcon.type,mpcomid:"30c48a99-0"}})],1):t._e(),i("view",{staticClass:"uni-list-cell__content"},[i("view",{staticClass:"uni-list-cell__content-title"},[t._v(t._s(t.title))]),t.note?i("view",{staticClass:"uni-list-cell__content-note"},[t._v(t._s(t.note))]):t._e()]),t.subnote||!0===t.showBadge||"true"===t.showBadge||!0===t.showArrow||"true"===t.showArrow||!0===t.showSwitch||"true"===t.showSwitch?i("view",{staticClass:"uni-list-cell__extra"},[t.subnote?i("view",{staticClass:"uni-list-cell__content-note"},[t._v(t._s(t.subnote))]):t._e(),!0===t.showBadge||"true"===t.showBadge?i("uni-badge",{attrs:{type:t.badgeType,text:t.badgeText,mpcomid:"30c48a99-1"}}):t._e(),!0===t.showSwitch||"true"===t.showSwitch?i("switch",{attrs:{disabled:t.disabled,checked:t.switchChecked,eventid:"30c48a99-0"},on:{change:t.onSwitchChange}}):t._e(),!0===t.showArrow||"true"===t.showArrow?i("uni-icon",{attrs:{color:"#bbb",size:"20",type:"arrowright",mpcomid:"30c48a99-2"}}):t._e()],1):t._e()])])},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"3dec":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-list"};e.default=a},"40bc":function(t,e,i){"use strict";var a={dangerLevel:["一般隐患","重大隐患"],dangerResult:["死亡","重伤","轻伤","行政处罚"],dangerType:["消防安全","行走及工作面","化学品管理","热/冷表面","一般废物管理","登高作业及坠落防护","废弃排放","电气安全/挂牌上锁","起吊安全","特种设备","机械安全","危险废物管理","职业健康及个人防护","承包商管理","工具安全","环境保护","应急响应","培训","废水处理","电气安全","消防","食品安全","高处作业","人机工程","非机械性伤害"],dangerSource:["企业自查","集团检查","政府检查","第三方审核","相关方"],dangerReason:["人","物","环","管"]};t.exports=a},"40cb":function(t,e,i){},4876:function(t,e,i){"use strict";i.r(e);var a=i("a4c5"),n=i("c848");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("cfba");var s=i("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},"4e52":function(t,e,i){"use strict";var a=i("8946"),n=i.n(a);n.a},"52f8":function(t,e,i){"use strict";var a=i("40cb"),n=i.n(a);n.a},"548e":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-badge",props:{type:{type:String,default:"default"},inverted:{type:Boolean,default:!1},text:{type:String,default:""},size:{type:String,default:"normal"}},computed:{setClass:function(){var t=["uni-badge-"+this.type,"uni-badge--"+this.size];return!0===this.inverted&&t.push("uni-badge-inverted"),t.join(" ")}},methods:{onClick:function(){this.$emit("click")}}};e.default=a},5513:function(t,e,i){"use strict";i.r(e);var a=i("b806"),n=i("5888");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("cbd5");var s=i("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},"579e":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-icon",props:{type:String,color:String,size:[Number,String]},computed:{fontSize:function(){return"".concat(this.size,"px")}},methods:{onClick:function(){this.$emit("click")}}};e.default=a},5888:function(t,e,i){"use strict";i.r(e);var a=i("548e"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"72fa":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("09d6")),n=o(i("5513"));function o(t){return t&&t.__esModule?t:{default:t}}var s={name:"uni-list-item",components:{uniIcon:a.default,uniBadge:n.default},data:function(){return{}},props:{title:String,note:String,subnote:String,disabled:{type:[Boolean,String],default:!1},showArrow:{type:[Boolean,String],default:!0},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:String,badgeType:{type:String,default:"success"},thumb:String,showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:function(){return{type:"contact",color:"#000000",size:"20"}}}},methods:{onClick:function(){this.$emit("click")},onSwitchChange:function(t){this.$emit("switchChange",t.detail)}}};e.default=s},"816d":function(t,e,i){"use strict";i.r(e);var a=i("3dec"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},8946:function(t,e,i){},8959:function(t,e,i){"use strict";i.r(e);var a=i("b81f"),n=i("816d");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("52f8");var s=i("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},a4c5:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"baseView"},[t._m(0),i("view",{staticClass:"cellInfoView"},[i("uni-list",{attrs:{mpcomid:"5c0aa864-8"}},[i("uni-list-item",{attrs:{title:"隐患描述",note:t.model.yhms,"show-arrow":1==t.pageState,eventid:"5c0aa864-0",mpcomid:"5c0aa864-0"},on:{click:function(e){t.jumpInput("yhms","请输入隐患描述",t.model.yhms,1)}}}),i("uni-list-item",{attrs:{title:"隐患等级",subnote:t.model.yhdj,"show-arrow":1==t.pageState,eventid:"5c0aa864-1",mpcomid:"5c0aa864-1"},on:{click:function(e){t.alertSheetShow("yhdj",t.dangerLevel,1)}}}),i("uni-list-item",{attrs:{title:"隐患后果",subnote:t.model.yhhg,"show-arrow":1==t.pageState,eventid:"5c0aa864-2",mpcomid:"5c0aa864-2"},on:{click:function(e){t.alertSheetShow("yhhg",t.dangerResult,1)}}}),i("picker",{attrs:{id:"yhlx",range:t.dangerType,disabled:1!=t.pageState,eventid:"5c0aa864-3"},on:{change:function(e){t.pickerChange(t.dangerType,e,1)}}},[i("uni-list-item",{attrs:{title:"隐患类型",subnote:t.model.yhlx,"show-arrow":1==t.pageState,mpcomid:"5c0aa864-3"}})],1),i("picker",{attrs:{mode:"date",value:t.model.zgqx,disabled:1!=t.pageState,eventid:"5c0aa864-4"},on:{change:function(e){t.dateChange("zgqx",e,1)}}},[i("uni-list-item",{attrs:{title:"整改期限",subnote:t.model.zgqx,"show-arrow":1==t.pageState,mpcomid:"5c0aa864-4"}})],1),i("picker",{attrs:{id:"yhly",range:t.dangerSource,disabled:1!=t.pageState,eventid:"5c0aa864-5"},on:{change:function(e){t.pickerChange(t.dangerSource,e,1)}}},[i("uni-list-item",{attrs:{title:"隐患来源",subnote:t.model.yhly,"show-arrow":1==t.pageState,mpcomid:"5c0aa864-5"}})],1),i("uni-list-item",{attrs:{title:"责任部门",subnote:t.model.zrbm?t.model.zrbm.name:"","show-arrow":1==t.pageState,eventid:"5c0aa864-6",mpcomid:"5c0aa864-6"},on:{click:function(e){t.jumpOrgChoose("zrbm",1)}}}),i("uni-list-item",{attrs:{title:"发起人",subnote:t.model.fqrmc,"show-arrow":"false",mpcomid:"5c0aa864-7"}})],1),i("view",{staticClass:"cellImageBaseView"},[i("view",{staticClass:"cellImageTitleView"},[i("text",{staticClass:"leftTextRow"},[t._v("隐患照片")]),i("text",{staticClass:"rightTextRow"},[t._v(t._s(t.createImgList.length))])]),i("view",{staticClass:"imageView",attrs:{id:"imageView"}},[t._l(t.createImgList,function(e,a){return i("block",{key:a},[i("view",{staticClass:"littleImageView",style:{width:t.littleImageWidth+"px",height:t.littleImageWidth+"px"}},[i("image",{staticClass:"littleImage",attrs:{id:a,src:e.src,mode:"aspectFit",eventid:"5c0aa864-7-"+a},on:{click:function(e){t.viewPhoto("createImgList")}}}),i("image",{staticClass:"littleImageDelete",attrs:{src:"../../static/assets/delete.png",id:a,mode:"aspectFit",eventid:"5c0aa864-8-"+a},on:{click:function(i){t.deleteImage("createImgList",e,a)}}})])])}),i("view",{staticClass:"littleImageView",style:{width:t.littleImageWidth+"px",height:t.littleImageWidth+"px"},attrs:{eventid:"5c0aa864-9"},on:{click:function(e){t.addPhoto("createImgList")}}},[i("image",{staticClass:"littleImage",attrs:{src:"../../static/assets/addImage.png"}})])],2)])],1),1!=t.pageState?i("block",[i("view",{staticClass:"cellTitleView"},[i("text",{staticClass:"cellTitle"},[t._v("整改情况")])]),i("view",{staticClass:"cellInfoView"},[i("uni-list",{attrs:{mpcomid:"5c0aa864-14"}},[i("uni-list-item",{attrs:{title:"隐患因素",subnote:t.model.rwhg,"show-arrow":2==t.pageState,eventid:"5c0aa864-10",mpcomid:"5c0aa864-9"},on:{click:function(e){t.alertSheetShow("rwhg",t.dangerReason,2)}}}),i("uni-list-item",{attrs:{title:"原因分析",subnote:t.model.yyfx,"show-arrow":2==t.pageState,eventid:"5c0aa864-11",mpcomid:"5c0aa864-10"},on:{click:function(e){t.jumpInput("yyfx","请输入原因分析",t.model.yyfx,2)}}}),i("uni-list-item",{attrs:{title:"整改情况",subnote:t.model.yhzgqk,"show-arrow":2==t.pageState,eventid:"5c0aa864-12",mpcomid:"5c0aa864-11"},on:{click:function(e){t.jumpInput("yhzgqk","请输入原因分析",t.model.yhzgqk,2)}}}),i("picker",{attrs:{mode:"date",value:t.model.zgwcrq,disabled:2!=t.pageState,eventid:"5c0aa864-13"},on:{change:function(e){t.dateChange("zgwcrq",e,2)}}},[i("uni-list-item",{attrs:{title:"完成日期",subnote:t.model.zgwcrq,"show-arrow":2==t.pageState,mpcomid:"5c0aa864-12"}})],1),i("uni-list-item",{attrs:{title:"整改人",subnote:t.model.zgrmc,"show-arrow":"false",mpcomid:"5c0aa864-13"}})],1),i("view",{staticClass:"cellImageBaseView"},[i("view",{staticClass:"cellImageTitleView"},[i("text",{staticClass:"leftTextRow"},[t._v("整改照片")]),i("text",{staticClass:"rightTextRow"},[t._v(t._s(t.changeImgList.length))])]),i("view",{staticClass:"imageView",attrs:{id:"imageView"}},[t._l(t.changeImgList,function(e,a){return i("block",{key:a},[i("view",{staticClass:"littleImageView",style:{width:t.littleImageWidth+"px",height:t.littleImageWidth+"px"}},[i("image",{staticClass:"littleImage",attrs:{id:a,src:e.src,mode:"aspectFit",eventid:"5c0aa864-14-"+a},on:{click:function(e){t.viewPhoto("changeImgList")}}}),i("image",{staticClass:"littleImageDelete",attrs:{src:"../../static/assets/delete.png",id:a,mode:"aspectFit",eventid:"5c0aa864-15-"+a},on:{click:function(i){t.deleteImage("changeImgList",e,a)}}})])])}),i("view",{staticClass:"littleImageView",style:{width:t.littleImageWidth+"px",height:t.littleImageWidth+"px"},attrs:{eventid:"5c0aa864-16"},on:{click:function(e){t.addPhoto("changeImgList")}}},[i("image",{staticClass:"littleImage",attrs:{src:"../../static/assets/addImage.png"}})])],2)])],1)]):t._e(),3==t.pageState||0==t.pageState?i("block",[i("view",{staticClass:"cellTitleView"},[i("text",{staticClass:"cellTitle"},[t._v("整改确认")])]),i("view",{staticClass:"cellInfoView"},[i("uni-list",{attrs:{mpcomid:"5c0aa864-18"}},[i("uni-list-item",{attrs:{title:"完成情况",subnote:t.model.yzqk,"show-arrow":2==t.pageState,eventid:"5c0aa864-17",mpcomid:"5c0aa864-15"},on:{click:function(e){t.jumpInput("yzqk","请输入完成情况",t.model.yzqk,3)}}}),i("uni-list-item",{attrs:{title:"确认人",subnote:t.model.yzrmc,"show-arrow":"false",mpcomid:"5c0aa864-16"}}),i("picker",{attrs:{mode:"date",value:t.model.yzrtxrq,disabled:3!=t.pageState,eventid:"5c0aa864-18"},on:{change:function(e){t.dateChange("yzrtxrq",e,3)}}},[i("uni-list-item",{attrs:{title:"填报日期",subnote:t.model.yzrtxrq,"show-arrow":2==t.pageState,mpcomid:"5c0aa864-17"}})],1)],1),i("view",{staticClass:"cellImageBaseView"},[i("view",{staticClass:"cellImageTitleView"},[i("text",{staticClass:"leftTextRow"},[t._v("验证照片")]),i("text",{staticClass:"rightTextRow"},[t._v(t._s(t.confirmImgList.length))])]),i("view",{staticClass:"imageView",attrs:{id:"imageView"}},[t._l(t.confirmImgList,function(e,a){return i("block",{key:a},[i("view",{staticClass:"littleImageView",style:{width:t.littleImageWidth+"px",height:t.littleImageWidth+"px"}},[i("image",{staticClass:"littleImage",attrs:{id:a,src:e.src,mode:"aspectFit",eventid:"5c0aa864-19-"+a},on:{click:function(e){t.viewPhoto("confirmImgList")}}}),i("image",{staticClass:"littleImageDelete",attrs:{src:"../../static/assets/delete.png",id:a,mode:"aspectFit",eventid:"5c0aa864-20-"+a},on:{click:function(i){t.deleteImage("confirmImgList",e,a)}}})])])}),i("view",{staticClass:"littleImageView",style:{width:t.littleImageWidth+"px",height:t.littleImageWidth+"px"},attrs:{eventid:"5c0aa864-21"},on:{click:function(e){t.addPhoto("confirmImgList")}}},[i("image",{staticClass:"littleImage",attrs:{src:"../../static/assets/addImage.png"}})])],2)])],1)]):t._e(),0!=t.pageState?i("view",{staticClass:"btnView"},[i("button",{staticClass:"saveBtn",attrs:{eventid:"5c0aa864-22"},on:{tap:t.saveClick}},[t._v("保存")]),t._l(t.model.flowbtnchooseflow,function(e,a){return i("block",{key:a},[i("button",{staticClass:"saveBtn",attrs:{eventid:"5c0aa864-23-"+a},on:{tap:function(i){t.roamClick(e)}}},[t._v(t._s(e.operationname))])],1)})],2):t._e()],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"cellTitleView"},[i("text",{staticClass:"cellTitle"},[t._v("隐患信息")])])}];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},b446:function(t,e,i){"use strict";i("c6c1");var a=o(i("b0ce")),n=o(i("4876"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(n.default))},b806:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.text?i("text",{staticClass:"uni-badge",class:t.setClass,attrs:{eventid:"68dcfa4a-0"},on:{click:function(e){t.onClick()}}},[t._v(t._s(t.text))]):t._e()},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},b81f:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"uni-list"},[t._t("default",null,{mpcomid:"3b6bb3ad-0"})],2)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},b9cb:function(t,e,i){},bc96:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("9fbc"),n=i("736d"),o=function(e){var i=[];t.chooseImage({count:9,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){for(var a=0;a<t.tempFilePaths.length;a++){var n={fileid:"",src:t.tempFilePaths[a],type:1};i.push(n)}e(i)}})},s=function(e,i,o,s){if(i.src.startsWith("http:")){var c={from:"jc",yyid:"",fileid:i.fileid,userid:""};n.requestLoading(a.deleteImage,c,"正在删除图片",function(t){e.splice(o,1),s(e)},function(){t.showToast({icon:"none",title:"删除失败"})},function(){})}else e.splice(o,1),s(e)},c=function(e){for(var i=[],a=0;a<e.length;a++){var n=e[a];i.push(n.src)}t.previewImage({urls:i})},l=function(e,i,o,s,c){for(var l=a.uploadImage+"?userid="+e+"&zpsgrecordid="+i+"&attachtype="+o,u=[],d=0;d<s.length;d++){var f=s[d];1!=f.type||f.src.startsWith("http:")||u.push(f.src)}0!=u.length?(t.showLoading({title:"正在上传图片"}),console.log(""+JSON.stringify(n)),r(l,u,0,0,0,u.length,function(t){},function(e){t.hideLoading(),"200"==e&&(t.showToast({title:"上传成功"}),c())})):c()},r=function(e,i,n,o,s,c,l,r){var u=this;console.log("url:"+e),console.log("filePaths:"+JSON.stringify(i)),t.uploadFile({url:a.host+e,filePath:i[s],name:"fileData",formData:{},success:function(t){n++,l(t)},fail:function(t){o++},complete:function(){s++,s==c?(t.showToast({title:"总共"+n+"张上传成功,"+o+"张上传失败！",icon:"none",duration:2e3}),null!=r&&r("200")):u.uploadImage(e,i,n,o,s,c,l,r)}})},u={addPhoto:o,deletePhoto:s,viewPhoto:c,uploadPhoto:l};e.default=u}).call(this,i("649d")["default"])},c848:function(t,e,i){"use strict";i.r(e);var a=i("34a7"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},cbd5:function(t,e,i){"use strict";var a=i("f912"),n=i.n(a);n.a},cc40:function(t,e,i){"use strict";i.r(e);var a=i("72fa"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},cfba:function(t,e,i){"use strict";var a=i("eb74"),n=i.n(a);n.a},d36e:function(t,e,i){"use strict";i.r(e);var a=i("39f9"),n=i("cc40");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("1b79");var s=i("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},eb74:function(t,e,i){},f505:function(t,e,i){"use strict";i.r(e);var a=i("579e"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},f912:function(t,e,i){}},[["b446","common/runtime","common/vendor"]]]);