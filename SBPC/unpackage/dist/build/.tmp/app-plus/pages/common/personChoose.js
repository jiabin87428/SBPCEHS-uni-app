(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/common/personChoose"],{1360:function(e,t,i){"use strict";(function(e){i("c6c1"),i("921b");s(i("66fd"));var t=s(i("a3c0"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("6e42")["createPage"])},"39e9":function(e,t,i){"use strict";var s=i("e0f0"),n=i.n(s);n.a},"5f17":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement;e._self._c},n=[];i.d(t,"a",function(){return s}),i.d(t,"b",function(){return n})},a3c0:function(e,t,i){"use strict";i.r(t);var s=i("5f17"),n=i("b66c");for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);i("39e9");var c=i("2877"),r=Object(c["a"])(n["default"],s["a"],s["b"],!1,null,null,null);t["default"]=r.exports},b66c:function(e,t,i){"use strict";i.r(t);var s=i("c536"),n=i.n(s);for(var o in s)"default"!==o&&function(e){i.d(t,e,function(){return s[e]})}(o);t["default"]=n.a},c536:function(e,t,i){"use strict";(function(e,s){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("9fbc")),o=r(i("736d")),c=i("2f62");function r(e){return e&&e.__esModule?e:{default:e}}var a={computed:(0,c.mapState)(["userInfo"]),data:function(){return{key:"",condition:"",mltiple:!1,selectedList:[],personList:[],orgId:"",orgName:"",backLevel:1}},onLoad:function(e){var t=this;this.key=e.key,this.mltiple="true"==e.mltiple,this.selectedList=null==e.selected?[]:JSON.parse(e.selected),this.orgId=null==e.orgId?"":e.orgId,this.backLevel=null==e.back?1:parseInt(e.back),this.condition=null==e.condition?"":e.condition,this.orgName=null==e.orgName?"":e.orgName,this.getPersonList();var i="SET_SELECTED_"+this.backLevel;this.$fire.on(i,function(e){t.selectedList=e})},onNavigationBarButtonTap:function(){},onShow:function(){},onBackPress:function(t){if("navigateBack"===t.from)console.log(e("22222"," at pages/common/personChoose.vue:80"));else if(this.backLevel>1){var i="SET_SELECTED_"+(this.backLevel-1);this.$fire.fire(i,this.selectedList)}},methods:{getPersonList:function(){var e=this,t={userid:e.userInfo.userid,orgid:e.orgId,data:e.condition};o.default.requestLoading(n.default.getPersonList,t,"正在加载",function(t){e.personList=t.data,e.comparSelectedList()},function(){s.showToast({icon:"none",title:"加载失败"})},function(){})},comparSelectedList:function(e){for(var t=0;t<this.personList.length;t++)for(var i=this.personList[t],s=0;s<this.selectedList.length;s++){var n=this.selectedList[s];n.id==i.id&&(i.selected=!0,this.personList.splice(t,1,i))}},chooseCurrent:function(e){0==this.mltiple&&"Y"==e.isUser&&(this.$fire.fire(this.key,e),s.navigateBack({delta:this.backLevel}))},confirmCurrentList:function(e){this.$fire.fire(this.key,this.selectedList),s.navigateBack({delta:this.backLevel})},addOrDeleteCurrent:function(e,t){if("N"!=e.isUser)if(1==e.selected)for(var i=0;i<this.selectedList.length;i++){var s=this.selectedList[i];if(s.id==e.id)return s.selected=!1,this.personList.splice(t,1,s),void this.selectedList.splice(i,1)}else e.selected=!0,e.orgName=this.orgName,this.personList.splice(t,1,e),this.selectedList.push(e)},gotoNext:function(e){var t=this.backLevel+1;s.navigateTo({url:"../common/personChoose?selected="+JSON.stringify(this.selectedList)+"&key="+this.key+"&condition="+this.condition+"&mltiple="+this.mltiple+"&orgId="+e.id+"&orgName="+e.name+"&back="+t})},editSelected:function(e){var t=this,i="VIEW_SELECTED_PERSON";s.navigateTo({url:"selectedPersonPage?selectedList="+JSON.stringify(this.selectedList)+"&key="+i}),this.$fire.once(i,function(e){t.selectedList=e})}}};t.default=a}).call(this,i("0de9")["default"],i("6e42")["default"])},e0f0:function(e,t,i){}},[["1360","common/runtime","common/vendor"]]]);